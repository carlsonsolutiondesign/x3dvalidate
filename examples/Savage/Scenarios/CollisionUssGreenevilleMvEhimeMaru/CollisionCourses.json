{ "X3D": {
    "encoding":"UTF-8",
    "@profile":"Immersive",
    "@version":"3.0",
    "@xsd:noNamespaceSchemaLocation":"http://www.web3d.org/specifications/x3d-3.0.xsd",
    "JSON schema":"http://www.web3d.org/specifications/x3d-3.3-JSONSchema.json",
    "head": {
        "meta": [
          {
            "@name":"title",
            "@content":"CollisionCourses.x3d"
          },
          {
            "@name":"description",
            "@content":"Animate ship tracks showing collision by USS GREENVILLE with MV EHIME MARU. We hope that studying lessons learned this incident might help prevent future accidents."
          },
          {
            "@name":"creator",
            "@content":"Don Brutzman and UW3303 students"
          },
          {
            "@name":"created",
            "@content":"16 May 2001"
          },
          {
            "@name":"modified",
            "@content":"14 January 2014"
          },
          {
            "@name":"reference",
            "@content":"CollisionUssGreenevilleMvEhimeMaru.html"
          },
          {
            "@name":"reference",
            "@content":"CollisionUssGreenevilleMvEhimeMaru.ppt"
          },
          {
            "@name":"reference",
            "@content":"UW 3303 reconstruction worklist.doc"
          },
          {
            "@name":"reference",
            "@content":"CalculateTrackLegWaypoints.m"
          },
          {
            "@name":"reference",
            "@content":"CalculateTrackLegWaypoints.out"
          },
          {
            "@name":"reference",
            "@content":"ExcelPlottingData.txt"
          },
          {
            "@name":"reference",
            "@content":"TrackOrders.xls"
          },
          {
            "@name":"reference",
            "@content":"TrackCalculations.m"
          },
          {
            "@name":"reference",
            "@content":"Greeneville_Track_Reconstruction.pdf"
          },
          {
            "@name":"drawing",
            "@content":"popup.greeneville.size.gif"
          },
          {
            "@name":"drawing",
            "@content":"10308_nat_subHAWAIIch.gif"
          },
          {
            "@name":"drawing",
            "@content":"http://www.nytimes.com/images/2001/03/08/national/010308_nat_subHAWAIIch.gif"
          },
          {
            "@name":"Image",
            "@content":"PR_030101-2.gif"
          },
          {
            "@name":"Image",
            "@content":"PR_030101-3.gif"
          },
          {
            "@name":"Image",
            "@content":"PR_030101-4.gif"
          },
          {
            "@name":"reference",
            "@content":"http://www.ntsb.gov/Pressrel/2001/010302.htm"
          },
          {
            "@name":"identifier",
            "@content":"https://savage.nps.edu/Savage/Scenarios/CollisionUssGreenevilleMvEhimeMaru/CollisionCourses.x3d"
          },
          {
            "@name":"subject",
            "@content":"3D simulation Collision Ehime Maru USS GREENEVILLE"
          },
          {
            "@name":"generator",
            "@content":"X3D-Edit 3.2, https://savage.nps.edu/X3D-Edit"
          },
          {
            "@name":"reference",
            "@content":"TrackCalculations.m"
          },
          {
            "@name":"reference",
            "@content":"TrackOrders.xls"
          },
          {
            "@name":"reference",
            "@content":"http://www.cpf.navy.mil/cpfnews/coidownloadmain.html"
          },
          {
            "@name":"reference",
            "@content":"Greeneville_Track_Reconstruction.pdf"
          },
          {
            "@name":"reference",
            "@content":"http://www.cpf.navy.mil/pages/legal/foia/Greeneville_Track_Reconstruction.pdf"
          },
          {
            "@name":"reference",
            "@content":"popup.greeneville.size.gif"
          },
          {
            "@name":"reference",
            "@content":"http://www.cnn.com/interactive/world/0102/sub.size.comparison/popup.greeneville.size.gif"
          },
          {
            "@name":"license",
            "@content":"../../license.html"
          },
          {
            "@name":"translated",
            "@content":"19 March 2017"
          },
          {
            "@name":"generator",
            "@content":"X3dToJson.xslt, http://www.web3d.org/x3d/stylesheets/X3dToJson.html"
          },
          {
            "@name":"warning",
            "@content":"An experimental version of X3D JSON encoding is used for this scene.  Status online at http://www.web3d.org/wiki/index.php/X3D_JSON_Encoding"
          }
        ],
        "-children":[
          {
            "#comment":"==============================="
          },
          {
            "#comment":"Track reconstruction spreadsheet and programs"
          },
          {
            "#comment":"================================"
          },
          {
            "#comment":"MV Ehime Maru and USS GREENEVILLE references"
          }
        ]
    },
    "Scene": {
        "-children":[
          {
            "#comment":"Coordinate system: origin is collision point 21°05'N 157°50'W (21.0917N, -157.8183W) y=vertical (depth negative) meters | | | x=latitude=north meters | / | / | / |/ *- - - > z=longitude meters"
          },
          {
            "#comment":"Prototype and external prototype declarations must precede scene definition."
          },
          { "ExternProtoDeclare":
            {
              "@name":"HiddenViewpoint",
              "@appinfo":"Hidden viewpoint becomes active (binds) upon pointer selection to reveal an interesting view with an optionally label",
              "@url":["../../../Savage/Tools/Animation/HiddenViewpointPrototype.x3d#HiddenViewpoint","https://savage.nps.edu/Savage/Tools/Animation/HiddenViewpointPrototype.x3d#HiddenViewpoint","../../../Savage/Tools/Animation/HiddenViewpointPrototype.wrl#HiddenViewpoint","https://savage.nps.edu/Savage/Tools/Animation/HiddenViewpointPrototype.wrl#HiddenViewpoint"],
              "field": [
                {
                  "@name":"position",
                  "@accessType":"inputOutput",
                  "@type":"SFVec3f"
                },
                {
                  "@name":"rotation",
                  "@accessType":"inputOutput",
                  "@type":"SFRotation"
                },
                {
                  "@name":"sensorRadius",
                  "@accessType":"initializeOnly",
                  "@type":"SFFloat"
                },
                {
                  "@name":"label",
                  "@accessType":"inputOutput",
                  "@type":"MFString"
                },
                {
                  "@name":"labelOffset",
                  "@accessType":"inputOutput",
                  "@type":"SFVec3f"
                },
                {
                  "@name":"labelFontSize",
                  "@accessType":"initializeOnly",
                  "@type":"SFFloat"
                },
                {
                  "@name":"labelColor",
                  "@accessType":"inputOutput",
                  "@type":"SFColor"
                },
                {
                  "@name":"activate",
                  "@accessType":"inputOnly",
                  "@type":"SFBool"
                }
              ]
            }
          },
          { "ExternProtoDeclare":
            {
              "@name":"WaypointInterpolator",
              "@appinfo":"Reads waypoints and legSpeeds/legDurations/defaultSpeed to provide a customizable position/orientation interpolator.",
              "@url":["../../../Savage/Tools/Animation/WaypointInterpolatorPrototype.x3d#WaypointInterpolator","https://savage.nps.edu/Savage/Tools/Animation/WaypointInterpolatorPrototype.x3d#WaypointInterpolator","../../../Savage/Tools/Animation/WaypointInterpolatorPrototype.wrl#WaypointInterpolator","https://savage.nps.edu/Savage/Tools/Animation/WaypointInterpolatorPrototype.wrl#WaypointInterpolator"],
              "-children":[
                {
                  "#comment":"Priority of use: legSpeeds (m/sec), legDurations (seconds), defaultSpeed (m/sec)"
                },
                {
                  "#comment":"interpolation fields"
                },
                {
                  "#comment":"display-related fields"
                }
              ],
              "field": [
                {
                  "@name":"description",
                  "@accessType":"initializeOnly",
                  "@appinfo":"Short description of what is animated by this WaypointInterpolator.",
                  "@type":"SFString"
                },
                {
                  "@name":"waypoints",
                  "@accessType":"initializeOnly",
                  "@appinfo":"Waypoints being traversed with interpolation of intermediate positions and orientations.",
                  "@type":"MFVec3f"
                },
                {
                  "@name":"add_waypoint",
                  "@accessType":"inputOnly",
                  "@appinfo":"Add another single waypoint to array of waypoints recalculate interpolator values.",
                  "@type":"SFVec3f"
                },
                {
                  "@name":"set_waypoints",
                  "@accessType":"inputOnly",
                  "@appinfo":"Replace all waypoints recalculate interpolator values.",
                  "@type":"MFVec3f"
                },
                {
                  "@name":"pitchUpDownForVerticalWaypoints",
                  "@accessType":"initializeOnly",
                  "@appinfo":"Whether to pitch child geometry (such as a vehicle) up or down to match vertical slope",
                  "@type":"SFBool"
                },
                {
                  "@name":"legSpeeds",
                  "@accessType":"initializeOnly",
                  "@appinfo":"Units m/sec. If used array lengths for legSpeeds and legDurations must be one less than number of waypoints.",
                  "@type":"MFFloat"
                },
                {
                  "@name":"legDurations",
                  "@accessType":"initializeOnly",
                  "@appinfo":"Units in seconds. If used array lengths for legSpeeds and legDurations must be one less than number of waypoints.",
                  "@type":"MFFloat"
                },
                {
                  "@name":"defaultSpeed",
                  "@accessType":"initializeOnly",
                  "@appinfo":"Units m/sec.",
                  "@type":"SFFloat"
                },
                {
                  "@name":"turningRate",
                  "@accessType":"initializeOnly",
                  "@appinfo":"turningRate (degrees/second) also determines standoff distance prior to waypoint where turn commences. If 0 turns are instantaneous.",
                  "@type":"SFFloat"
                },
                {
                  "@name":"totalDuration",
                  "@accessType":"outputOnly",
                  "@appinfo":"Output calculation summing all leg durations, useful for setting TimeSensor cycleInterval. Units in seconds.",
                  "@type":"SFTime"
                },
                {
                  "@name":"set_fraction",
                  "@accessType":"inputOnly",
                  "@appinfo":"exposed PositionInterpolator and OrientationInterpolator setting",
                  "@type":"SFFloat"
                },
                {
                  "@name":"position_changed",
                  "@accessType":"outputOnly",
                  "@appinfo":"exposed PositionInterpolator setting",
                  "@type":"SFVec3f"
                },
                {
                  "@name":"orientation_changed",
                  "@accessType":"outputOnly",
                  "@appinfo":"exposed OrientationInterpolator setting",
                  "@type":"SFRotation"
                },
                {
                  "@name":"lineColor",
                  "@accessType":"inputOutput",
                  "@appinfo":"default color for non-active line segments",
                  "@type":"SFColor"
                },
                {
                  "@name":"highlightSegmentColor",
                  "@accessType":"inputOutput",
                  "@appinfo":"highlightSegmentColors must contain two color values for each endpoint of the highlight segment.",
                  "@type":"SFColor"
                },
                {
                  "@name":"transparency",
                  "@accessType":"inputOutput",
                  "@appinfo":"1.0 is completely transparent, 0.0 is completely opaque.",
                  "@type":"SFFloat"
                },
                {
                  "@name":"labelDisplayMode",
                  "@accessType":"initializeOnly",
                  "@appinfo":"allowed values: none; waypoints (produce labels at each waypoint); or interpolation (produce single moving label at interpolator time course speed location)",
                  "@type":"SFString"
                },
                {
                  "@name":"heightLabel",
                  "@accessType":"initializeOnly",
                  "@appinfo":"allowed values: altitude depth (negate Y value) none",
                  "@type":"SFString"
                },
                {
                  "@name":"labelOffset",
                  "@accessType":"initializeOnly",
                  "@appinfo":"heightLabel relative location",
                  "@type":"SFVec3f"
                },
                {
                  "@name":"labelFontSize",
                  "@accessType":"initializeOnly",
                  "@appinfo":"heightLabel text size",
                  "@type":"SFFloat"
                },
                {
                  "@name":"labelColor",
                  "@accessType":"initializeOnly",
                  "@appinfo":"heightLabel text color",
                  "@type":"SFColor"
                },
                {
                  "@name":"traceEnabled",
                  "@accessType":"initializeOnly",
                  "@appinfo":"enable console output to trace script computations and prototype progress",
                  "@type":"SFBool"
                },
                {
                  "@name":"outputInitializationComputations",
                  "@accessType":"initializeOnly",
                  "@appinfo":"Output the number of waypoints totalDistance and totalDuration to console upon initialization",
                  "@type":"SFBool"
                },
                {
                  "@name":"verticalDropLineColor",
                  "@accessType":"inputOutput",
                  "@appinfo":"default color for vertical drop-line segments",
                  "@type":"SFColor"
                },
                {
                  "@name":"verticalDropLineTransparency",
                  "@accessType":"inputOutput",
                  "@appinfo":"1.0 is completely transparent, 0.0 is completely opaque.",
                  "@type":"SFFloat"
                }
              ]
            }
          },
          { "ExternProtoDeclare":
            {
              "@name":"ViewPositionOrientation",
              "@url":["../../Tools/Authoring/ViewPositionOrientationPrototype.x3d#ViewPositionOrientation","https://savage.nps.edu/Savage/Tools/Authoring/ViewPositionOrientationPrototype.x3d#ViewPositionOrientation","../../Tools/Authoring/ViewPositionOrientationPrototype.wrl#ViewPositionOrientation","https://savage.nps.edu/Savage/Tools/Authoring/ViewPositionOrientationPrototype.wrl#ViewPositionOrientation"],
              "field": [
                {
                  "@name":"enabled",
                  "@accessType":"inputOutput",
                  "@type":"SFBool"
                },
                {
                  "@name":"traceEnabled",
                  "@accessType":"initializeOnly",
                  "@type":"SFBool"
                },
                {
                  "@name":"set_traceEnabled",
                  "@accessType":"inputOnly",
                  "@type":"SFBool"
                },
                {
                  "@name":"position_changed",
                  "@accessType":"outputOnly",
                  "@type":"SFVec3f"
                },
                {
                  "@name":"orientation_changed",
                  "@accessType":"outputOnly",
                  "@type":"SFRotation"
                },
                {
                  "@name":"outputViewpointString",
                  "@accessType":"outputOnly",
                  "@type":"MFString"
                }
              ]
            }
          },
          { "ExternProtoDeclare":
            {
              "@name":"SeaStateExtrusion",
              "@url":["../../Environment/SeaState/SeaStateExtrusionPrototype.x3d#SeaStateExtrusion","https://savage.nps.edu/Savage/Environment/SeaState/SeaStateExtrusionPrototype.x3d#SeaStateExtrusion","../../Environment/SeaState/SeaStateExtrusionPrototype.wrl#SeaStateExtrusion","https://savage.nps.edu/Savage/Environment/SeaState/SeaStateExtrusionPrototype.wrl#SeaStateExtrusion"],
              "field": [
                {
                  "@name":"shipPitch",
                  "@accessType":"outputOnly",
                  "@type":"SFRotation"
                },
                {
                  "@name":"shipRoll",
                  "@accessType":"outputOnly",
                  "@type":"SFRotation"
                }
              ]
            }
          },
          { "ExternProtoDeclare":
            {
              "@name":"DvdController",
              "@appinfo":"Digital Virtual Display (DVD) Controller Prototype definition to control a scenario's animation timing",
              "@url":["../../Tools/HeadsUpDisplays/DvdControllerPrototype.x3d#DvdController","https://savage.nps.edu/Savage/Tools/HeadsUpDisplays/DvdControllerPrototype.x3d#DvdController","../../Tools/HeadsUpDisplays/DvdControllerPrototype.wrl#DvdController","https://savage.nps.edu/Savage/Tools/HeadsUpDisplays/DvdControllerPrototype.wrl#DvdController"],
              "field": [
                {
                  "@name":"description",
                  "@accessType":"initializeOnly",
                  "@appinfo":"Short description of what is animated by this DvdController.",
                  "@type":"SFString"
                },
                {
                  "@name":"playEnabled",
                  "@accessType":"initializeOnly",
                  "@appinfo":"Whether or not play mode is enabled including during startup.",
                  "@type":"SFBool"
                },
                {
                  "@name":"displayMode",
                  "@accessType":"initializeOnly",
                  "@appinfo":"Initializes how control buttons and slider are displayed. The control buttons include DIS control (i.e. Master Ghost Local) and Playback control (i.e. Reset to Start Fast Rewind Rewind Pause Play Fast Forward Reset to End). Possible values are (case sensitive): ALL DIS_ONLY PLAYBACK_ONLY SLIDER_ONLY DIS_PLAYBACK DIS_SLIDER PLAYBACK_SLIDER and NONE.",
                  "@type":"SFString"
                },
                {
                  "@name":"setDisplayMode",
                  "@accessType":"inputOnly",
                  "@appinfo":"Sets how control buttons and slider are displayed. The control buttons include DIS control (i.e. Master Ghost Local) and Playback control (i.e. Reset to Start Fast Rewind Rewind Pause Play Fast Forward Reset to End). Possible values are (case sensitive): ALL DIS_ONLY PLAYBACK_ONLY SLIDER_ONLY DIS_PLAYBACK DIS_SLIDER PLAYBACK_SLIDER and NONE.",
                  "@type":"SFString"
                },
                {
                  "@name":"buttonColor",
                  "@accessType":"initializeOnly",
                  "@appinfo":"Default button color.",
                  "@type":"SFColor"
                },
                {
                  "@name":"selectedButtonColor",
                  "@accessType":"initializeOnly",
                  "@appinfo":"Button color when selected by user.",
                  "@type":"SFColor"
                },
                {
                  "@name":"labelColor",
                  "@accessType":"initializeOnly",
                  "@appinfo":"Default label color.",
                  "@type":"SFColor"
                },
                {
                  "@name":"selectedLabelColor",
                  "@accessType":"initializeOnly",
                  "@appinfo":"Label color when selected by user.",
                  "@type":"SFColor"
                },
                {
                  "@name":"locationOffset",
                  "@accessType":"initializeOnly",
                  "@appinfo":"Modified screen location and distance (for size).",
                  "@type":"SFVec3f"
                },
                {
                  "@name":"clockEnabled",
                  "@accessType":"initializeOnly",
                  "@type":"SFBool"
                },
                {
                  "@name":"cycleInterval",
                  "@accessType":"initializeOnly",
                  "@appinfo":"Time for complete loop cycle in seconds.",
                  "@type":"SFTime"
                },
                {
                  "@name":"set_cycleInterval",
                  "@accessType":"inputOnly",
                  "@type":"SFTime"
                },
                {
                  "@name":"cycleInterval_changed",
                  "@accessType":"outputOnly",
                  "@type":"SFTime"
                },
                {
                  "@name":"speedFactor",
                  "@accessType":"initializeOnly",
                  "@appinfo":"Factor used to determine the speed increase/decrease for Fast Rewind and Fast Forward action.",
                  "@type":"SFFloat"
                },
                {
                  "@name":"isActive",
                  "@accessType":"outputOnly",
                  "@type":"SFBool"
                },
                {
                  "@name":"startTime_changed",
                  "@accessType":"outputOnly",
                  "@type":"SFTime"
                },
                {
                  "@name":"stopTime_changed",
                  "@accessType":"outputOnly",
                  "@type":"SFTime"
                },
                {
                  "@name":"time_changed",
                  "@accessType":"outputOnly",
                  "@type":"SFTime"
                },
                {
                  "@name":"fraction_changed",
                  "@accessType":"outputOnly",
                  "@type":"SFFloat"
                },
                {
                  "@name":"secondsElapsed",
                  "@accessType":"outputOnly",
                  "@type":"SFTime"
                },
                {
                  "@name":"isMaster",
                  "@accessType":"outputOnly",
                  "@appinfo":"isMaster isRemote and isLocal are booleans represent a 3-way toggle. Only one of them can have a true value at any time.",
                  "@type":"SFBool"
                },
                {
                  "@name":"isRemote",
                  "@accessType":"outputOnly",
                  "@appinfo":"isMaster isRemote and isLocal are booleans represent a 3-way toggle. Only one of them can have a true value at any time.",
                  "@type":"SFBool"
                },
                {
                  "@name":"isLocal",
                  "@accessType":"outputOnly",
                  "@appinfo":"isMaster isRemote and isLocal are booleans represent a 3-way toggle. Only one of them can have a true value at any time.",
                  "@type":"SFBool"
                },
                {
                  "@name":"isPaused",
                  "@accessType":"outputOnly",
                  "@appinfo":"isPaused and isRunning always have opposite values. When isPaused is true isRunning will be false and vice versa.",
                  "@type":"SFBool"
                },
                {
                  "@name":"isRunning",
                  "@accessType":"outputOnly",
                  "@appinfo":"isPaused and isRunning always have opposite values. When isPaused is true isRunning will be false and vice versa.",
                  "@type":"SFBool"
                },
                {
                  "@name":"traceEnabled",
                  "@accessType":"initializeOnly",
                  "@appinfo":"Enable/disable console output for troubleshooting.",
                  "@type":"SFBool"
                },
                {
                  "@name":"testTimeVal",
                  "@accessType":"initializeOnly",
                  "@type":"SFTime"
                }
              ]
            }
          },
          {
            "#comment":"==================================="
          },
          {
            "#comment":"Begin actual scene here. Top-level viewpoint, navigation and control nodes."
          },
          { "NavigationInfo":
            {
              "@speed":1000,
              "@visibilityLimit":100000
            }
          },
          { "Background":
            {
              "@groundAngle":[1.309,1.570796],
              "@groundColor":[0,0,0.6,0,0,0.4,0,0,0.6],
              "@skyAngle":[1.309,1.571],
              "@skyColor":[0.0,0.2,0.7,0.0,0.5,1.0,0.6,0.6,0.6]
            }
          },
          { "Viewpoint":
            {
              "@description":"Operating area",
              "@orientation":[0.032,0.985,0.167,3.578],
              "@position":[-20000,20000,-50000]
            }
          },
          {
            "#comment":"ViewPositionOrientation is a prototype lets us find good viewpoints for inclusion in the scene"
          },
          { "ProtoInstance":
            {
              "@name":"ViewPositionOrientation",
              "fieldValue": [
                {
                  "@name":"enabled",
                  "@value":false
                }
              ]
            }
          },
          {
            "#comment":"==================================="
          },
          {
            "#comment":"Sea state"
          },
          { "Transform":
            {
              "@DEF":"GreenevilleSeaStateTransform",
              "-children":[
                { "Transform":
                  {
                    "@translation":[0,0,-1000],
                    "-children":[
                      { "Group":
                        {
                          "@DEF":"ViewPoints",
                          "-children":[
                            { "Transform":
                              {
                                "@DEF":"AerialView",
                                "@rotation":[0,1,0,1.8],
                                "@translation":[15,50,-5],
                                "-children":[
                                  { "Transform":
                                    {
                                      "@rotation":[0,1,0,0.75],
                                      "-children":[
                                        { "Viewpoint":
                                          {
                                            "@description":"Sea State aerial view",
                                            "@orientation":[1,0,0,-0.35]
                                          }
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      },
                      { "ProtoInstance":
                        {
                          "@name":"SeaStateExtrusion"
                        }
                      }
                    ]
                  }
                },
                {
                  "#comment":"semi-transparent flat plate at surface"
                },
                { "Switch":
                  {
                    "@whichChoice":-1,
                    "-children":[
                      { "Shape":
                        {
                          "@DEF":"oceanSurface",
                          "-children":[
                            {
                              "#comment":"IndexedFaceSet subdivided to enable view-frustrum culling for performance improvement"
                            },
                            {
                              "#comment":"area 10Km in X by 10Km in Z"
                            }
                          ],
                          "-geometry":
                            { "IndexedFaceSet":
                              {
                                "@coordIndex":[0,1,2,3,0,-1,0,3,4,5,0,-1,0,5,6,7,0,-1,0,7,8,1,0,-1],
                                "@solid":false,
                                "-coord":
                                  { "Coordinate":
                                    {
                                      "@point":[0,0,0,0,0,25000,25000,0,25000,25000,0,0,25000,0,-25000,0,0,-25000,-25000,0,-25000,-25000,0,0,-25000,0,25000]
                                    }
                                  }
                              }
                            },
                          "-appearance":
                            { "Appearance":
                              {
                                "-material":
                                  { "Material":
                                    {
                                      "@diffuseColor":[0,0.2,0.5],
                                      "@transparency":0.05
                                    }
                                  }
                              }
                            }
                        }
                      }
                    ]
                  }
                }
              ]
            }
          },
          {
            "#comment":"==================================="
          },
          {
            "#comment":"USS GREENEVILLE"
          },
          { "Group":
            {
              "-children":[
                { "Transform":
                  {
                    "@DEF":"GreenevilleTransform",
                    "-children":[
                      { "Inline":
                        {
                          "@url":["../../Submarines/SSN-LosAngeles-UnitedStates/688.x3d","https://savage.nps.edu/Savage/Submarines/SSN-LosAngeles-UnitedStates/688.x3d","../../Submarines/SSN-LosAngeles-UnitedStates/688.wrl","https://savage.nps.edu/Savage/Submarines/SSN-LosAngeles-UnitedStates/688.wrl"]
                        }
                      },
                      { "Viewpoint":
                        {
                          "@description":"USS Greeneville",
                          "@orientation":[0,1,0,-1.57],
                          "@position":[-150,6,0]
                        }
                      }
                    ]
                  }
                },
                { "ProtoInstance":
                  {
                    "@name":"WaypointInterpolator",
                    "@DEF":"GreenevilleInterpolator",
                    "-children":[
                      {
                        "#comment":"initial waypoint time 1330, final waypoint time 1343.25"
                      },
                      {
                        "#comment":"1 knot = 0.514444444 meters/second, 11 knots = 5.66 meters/second"
                      }
                    ],
                    "fieldValue": [
                      {
                        "@name":"description",
                        "@value":"GreenevilleInterpolator"
                      },
                      {
                        "@name":"waypoints",
                        "@value":[-18256.7,-198.1,-2429.6,-17778.3,-198.1,-2429.6,-17330.7,-198.1,-2429.6,-16816.3,-121.9,-2429.6,-16502.5,-121.9,-2429.6,-15494.2,-198.1,-2429.6,-14907.7,-198.1,-2429.6,-14161.8,-198.1,-2429.6,-14064.0,-198.1,-2429.6,-14439.6,-198.1,-3080.1,-14449.9,-198.1,-3097.9,-14555.3,-198.1,-3280.6,-14864.0,-198.1,-3815.2,-14169.5,-198.1,-3815.2,-14025.4,-121.9,-3815.2,-13634.5,-121.9,-3815.2,-12806.2,-198.1,-3815.2,-12471.8,-198.1,-3815.2,-9611.5,-198.1,-3815.2,-9128.0,-198.1,-3815.2,-8059.6,-198.1,-3426.3,-6894.6,-198.1,-3002.3,-6445.0,-198.1,-2838.7,-6029.3,-198.1,-2687.3,-4279.3,-198.1,-2050.4,-4245.5,-121.9,-2038.1,-2805.0,-121.9,-2038.1,-1711.9,-121.9,-2038.1,-1869.5,-121.9,-1905.8,-2667.5,-121.9,-1236.2,-2510.4,-121.9,-1293.4,-2027.0,-121.9,-1469.3,-1422.7,-121.9,-1689.3,-1776.4,-121.9,-1076.7,-2104.3,-121.9,-508.7,-2123.6,-121.9,-475.2,-1875.6,-121.9,-565.5,-1462.3,-121.9,-715.9,-1407.2,-45.7,-736.0,-1352.0,-45.7,-756.1,-1326.8,-45.7,-765.3,-993.8,-45.7,-886.5,-692.1,-45.7,-996.3,-371.6,-45.7,-1112.9,-389.0,-45.7,-1082.9,-498.9,-45.7,-892.4,-524.0,-45.7,-849.0,-533.6,-45.7,-832.3,-562.6,-45.7,-782.1,-620.5,-45.7,-681.9,-720.8,-18.3,-508.1,-767.1,-18.3,-427.9,-817.2,-17.7,-341.1,-826.9,-17.4,-324.4,-848.1,-17.4,-287.6,-855.8,-19.5,-274.2,-877.9,-24.1,-237.6,-946.4,-54.6,-118.8,-432.9,-121.9,-305.7,-400.5,-122.5,-280.4,-278.1,-122.5,-194.7,0.0,-6.1,0.0]
                      },
                      {
                        "@name":"legDurations",
                        "@value":[93.0,87.0,100.0,61.0,196.0,114.0,145.0,19.0,146.0,4.0,41.0,120.0,135.0,28.0,76.0,161.0,65.0,556.0,94.0,221.0,241.0,93.0,86.0,362.0,7.0,112.0,85.0,16.0,81.0,13.0,40.0,50.0,55.0,51.0,3.0,27.0,45.0,6.0,9.0,4.0,53.0,48.0,51.0,9.0,57.0,13.0,5.0,15.0,30.0,52.0,24.0,26.0,5.0,11.0,4.0,13.0,31.0,83.0,6.0,22.0,50.0]
                      },
                      {
                        "@name":"turningRate",
                        "@value":5
                      },
                      {
                        "@name":"pitchUpDownForVerticalWaypoints",
                        "@value":true
                      },
                      {
                        "@name":"labelDisplayMode",
                        "@value":"interpolation"
                      },
                      {
                        "@name":"heightLabel",
                        "@value":"depth"
                      },
                      {
                        "@name":"lineColor",
                        "@value":[0,0.8,0.8]
                      },
                      {
                        "@name":"highlightSegmentColor",
                        "@value":[0.8,0.6,0.2]
                      },
                      {
                        "@name":"labelColor",
                        "@value":[0,0.8,0.8]
                      },
                      {
                        "@name":"labelOffset",
                        "@value":[0,20,0]
                      },
                      {
                        "@name":"labelFontSize",
                        "@value":6
                      },
                      {
                        "@name":"traceEnabled",
                        "@value":false
                      }
                    ]
                  }
                },
                { "ROUTE":
                  {
                    "@fromField":"position_changed",
                    "@fromNode":"GreenevilleInterpolator",
                    "@toField":"set_translation",
                    "@toNode":"GreenevilleTransform"
                  }
                },
                { "ROUTE":
                  {
                    "@fromField":"orientation_changed",
                    "@fromNode":"GreenevilleInterpolator",
                    "@toField":"set_rotation",
                    "@toNode":"GreenevilleTransform"
                  }
                },
                {
                  "#comment":"Move sea state extrusion to stay located over submarine"
                },
                { "Script":
                  {
                    "@DEF":"SurfaceMovementFilter",
                    "field": [
                      {
                        "@name":"input3dPosition",
                        "@accessType":"inputOnly",
                        "@type":"SFVec3f"
                      },
                      {
                        "@name":"output2dPosition",
                        "@accessType":"outputOnly",
                        "@type":"SFVec3f"
                      }
                    ],
                    "#sourceText":[
"ecmascript:",
"",
"function input3dPosition (position, timestamp)",
"{",
"\toutput2dPosition = new SFVec3f (position.x, 0, position.z);",
"}"
]
                  }
                },
                { "ROUTE":
                  {
                    "@fromField":"position_changed",
                    "@fromNode":"GreenevilleInterpolator",
                    "@toField":"input3dPosition",
                    "@toNode":"SurfaceMovementFilter"
                  }
                },
                { "ROUTE":
                  {
                    "@fromField":"output2dPosition",
                    "@fromNode":"SurfaceMovementFilter",
                    "@toField":"set_translation",
                    "@toNode":"GreenevilleSeaStateTransform"
                  }
                }
              ]
            }
          },
          {
            "#comment":"==================================="
          },
          {
            "#comment":"MV EHIME MARU"
          },
          { "Group":
            {
              "-children":[
                { "Transform":
                  {
                    "@DEF":"EhimeMaruTransform",
                    "-children":[
                      { "Inline":
                        {
                          "@url":["../../ShipsCivilian/Trawlers/EhimeMaru.x3d","https://savage.nps.edu/Savage/ShipsCivilian/Trawlers/EhimeMaru.x3d","../../ShipsCivilian/Trawlers/EhimeMaru.wrl","https://savage.nps.edu/Savage/ShipsCivilian/Trawlers/EhimeMaru.wrl"]
                        }
                      }
                    ]
                  }
                },
                { "ProtoInstance":
                  {
                    "@name":"WaypointInterpolator",
                    "@DEF":"EhimeMaruInterpolator",
                    "-children":[
                      {
                        "#comment":"initial waypoint time 1330, final waypoint time 1343.25"
                      },
                      {
                        "#comment":"1 knot = 0.514444444 meters/second, 11 knots = 5.66 meters/second"
                      }
                    ],
                    "fieldValue": [
                      {
                        "@name":"description",
                        "@value":"EhimeMaruInterpolator"
                      },
                      {
                        "@name":"waypoints",
                        "@value":[20060.7,-3.0,-5001.7,19875.0,-3.0,-4955.4,19701.3,-3.0,-4912.1,19501.6,-3.0,-4862.3,19379.8,-3.0,-4831.9,18988.5,-3.0,-4734.4,18760.9,-3.0,-4677.6,18471.4,-3.0,-4605.4,18433.4,-3.0,-4596.0,18141.9,-3.0,-4523.3,18133.9,-3.0,-4521.3,18052.1,-3.0,-4500.9,17812.5,-3.0,-4441.2,17542.9,-3.0,-4373.9,17389.2,-3.0,-4335.6,16971.9,-3.0,-4231.6,16087.9,-3.0,-4011.2,15731.0,-3.0,-3922.2,12678.1,-3.0,-3161.0,12162.0,-3.0,-3032.3,10948.6,-3.0,-2729.8,9625.3,-3.0,-2399.9,9114.6,-3.0,-2272.5,8642.4,-3.0,-2154.8,6654.8,-3.0,-1659.2,6616.4,-3.0,-1649.6,6001.4,-3.0,-1496.3,5534.7,-3.0,-1379.9,5446.8,-3.0,-1358.0,5002.1,-3.0,-1247.2,4930.7,-3.0,-1229.4,4711.1,-3.0,-1174.6,4436.5,-3.0,-1106.1,4134.5,-3.0,-1030.9,3854.5,-3.0,-961.0,3838.0,-3.0,-956.9,3689.8,-3.0,-920.0,3442.7,-3.0,-858.4,3409.8,-3.0,-850.1,3360.3,-3.0,-837.8,3338.4,-3.0,-832.4,3047.4,-3.0,-759.8,2783.8,-3.0,-694.1,2503.8,-3.0,-624.3,2454.4,-3.0,-611.9,2141.4,-3.0,-533.9,2070.0,-3.0,-516.1,2042.6,-3.0,-509.3,1960.2,-3.0,-488.7,1795.5,-3.0,-447.7,1510.0,-3.0,-376.5,1378.2,-3.0,-343.6,1235.4,-3.0,-308.0,1208.0,-3.0,-301.2,1147.6,-3.0,-286.1,1125.6,-3.0,-280.6,1054.2,-3.0,-262.8,884.0,-3.0,-220.4,428.3,-3.0,-106.8,395.3,-3.0,-98.6,274.5,-3.0,-68.4,0.0,-3.0,0.0]
                      },
                      {
                        "@name":"legDurations",
                        "@value":[93.0,87.0,100.0,61.0,196.0,114.0,145.0,19.0,146.0,4.0,41.0,120.0,135.0,28.0,76.0,161.0,65.0,556.0,94.0,221.0,241.0,93.0,86.0,362.0,7.0,112.0,85.0,16.0,81.0,13.0,40.0,50.0,55.0,51.0,3.0,27.0,45.0,6.0,9.0,4.0,53.0,48.0,51.0,9.0,57.0,13.0,5.0,15.0,30.0,52.0,24.0,26.0,5.0,11.0,4.0,13.0,31.0,83.0,6.0,22.0,50.0]
                      },
                      {
                        "@name":"heightLabel",
                        "@value":"none"
                      },
                      {
                        "@name":"lineColor",
                        "@value":[0.4,0.4,0.1]
                      },
                      {
                        "@name":"highlightSegmentColor",
                        "@value":[0.8,0.8,0.2]
                      },
                      {
                        "@name":"labelColor",
                        "@value":[0.8,0.8,0]
                      },
                      {
                        "@name":"labelOffset",
                        "@value":[0,20,0]
                      },
                      {
                        "@name":"labelFontSize",
                        "@value":6
                      },
                      {
                        "@name":"traceEnabled",
                        "@value":false
                      }
                    ]
                  }
                },
                { "ROUTE":
                  {
                    "@fromField":"position_changed",
                    "@fromNode":"EhimeMaruInterpolator",
                    "@toField":"set_translation",
                    "@toNode":"EhimeMaruTransform"
                  }
                },
                { "ROUTE":
                  {
                    "@fromField":"orientation_changed",
                    "@fromNode":"EhimeMaruInterpolator",
                    "@toField":"set_rotation",
                    "@toNode":"EhimeMaruTransform"
                  }
                }
              ]
            }
          },
          {
            "#comment":"==================================="
          },
          {
            "#comment":"Grid and coordinate axes"
          },
          { "Group":
            {
              "-children":[
                { "Viewpoint":
                  {
                    "@description":"Collision point",
                    "@orientation":[-0.233,0.962,0.143,1.1352],
                    "@position":[4000,1000,1500]
                  }
                },
                { "Transform":
                  {
                    "@scale":[2500,2500,2500],
                    "-children":[
                      { "Inline":
                        {
                          "@url":["../../../Savage/Tools/Authoring/GridXZ_20x20Fixed.x3d","https://savage.nps.edu/Savage/Tools/Authoring/GridXZ_20x20Fixed.x3d","../../../Savage/Tools/Authoring/GridXZ_20x20Fixed.wrl","https://savage.nps.edu/Savage/Tools/Authoring/GridXZ_20x20Fixed.wrl"]
                        }
                      }
                    ]
                  }
                },
                { "Transform":
                  {
                    "@scale":[10,10,10],
                    "-children":[
                      { "Inline":
                        {
                          "@DEF":"CoordinateAxes",
                          "@url":["../../X3dForWebAuthors/Chapter03-Grouping/CoordinateAxes.x3d","http://X3dGraphics.com/examples/X3dForWebAuthors/Chapter03-Grouping/CoordinateAxes.x3d","https://savage.nps.edu/Savage/Tools/Authoring/CoordinateAxes.x3d","../../X3dForWebAuthors/Chapter03-Grouping/CoordinateAxes.wrl","http://X3dGraphics.com/examples/X3dForWebAuthors/Chapter03-Grouping/CoordinateAxes.wrl","https://savage.nps.edu/Savage/Tools/Authoring/CoordinateAxes.wrl"]
                        }
                      }
                    ]
                  }
                }
              ]
            }
          },
          {
            "#comment":"==================================="
          },
          {
            "#comment":"Can use either MasterClock or DvdControllerClock"
          },
          { "TimeSensor":
            {
              "@DEF":"MasterClock",
              "@loop":true
            }
          },
          { "ProtoInstance":
            {
              "@name":"DvdController",
              "@DEF":"DvdControllerClock",
              "fieldValue": [
                {
                  "@name":"displayMode",
                  "@value":"PLAYBACK_SLIDER"
                },
                {
                  "@name":"playEnabled",
                  "@value":true
                },
                {
                  "@name":"buttonColor",
                  "@value":[0.655,0.655,0.655]
                },
                {
                  "@name":"selectedButtonColor",
                  "@value":[0.675,0.675,0.675]
                },
                {
                  "@name":"selectedLabelColor",
                  "@value":[0.9,0,0]
                },
                {
                  "@name":"locationOffset",
                  "@value":[-12,-4,0]
                },
                {
                  "@name":"cycleInterval",
                  "@value":40
                },
                {
                  "@name":"speedFactor",
                  "@value":10.0
                },
                {
                  "@name":"traceEnabled",
                  "@value":false
                }
              ]
            }
          },
          { "ROUTE":
            {
              "@fromField":"totalDuration",
              "@fromNode":"EhimeMaruInterpolator",
              "@toField":"set_cycleInterval",
              "@toNode":"DvdControllerClock"
            }
          },
          { "ROUTE":
            {
              "@fromField":"fraction_changed",
              "@fromNode":"DvdControllerClock",
              "@toField":"set_fraction",
              "@toNode":"GreenevilleInterpolator"
            }
          },
          { "ROUTE":
            {
              "@fromField":"fraction_changed",
              "@fromNode":"DvdControllerClock",
              "@toField":"set_fraction",
              "@toNode":"EhimeMaruInterpolator"
            }
          }
        ]
    }
  }
}