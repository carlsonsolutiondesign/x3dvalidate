{ "X3D": {
    "encoding":"UTF-8",
    "@profile":"Immersive",
    "@version":"3.1",
    "@xsd:noNamespaceSchemaLocation":"http://www.web3d.org/specifications/x3d-3.1.xsd",
    "JSON schema":"http://www.web3d.org/specifications/x3d-3.3-JSONSchema.json",
    "head": {
        "meta": [
          {
            "@name":"title",
            "@content":"PanamaCity.x3d"
          },
          {
            "@name":"description",
            "@content":"Bathymetry and terrain model of Panama City, Florida"
          },
          {
            "@name":"creator",
            "@content":"Byounghyun Yoo"
          },
          {
            "@name":"created",
            "@content":"11 May 2007"
          },
          {
            "@name":"modified",
            "@content":"14 January 2014"
          },
          {
            "@name":"generator",
            "@content":"Rez, http://planet-earth.org/Rez/RezIndex.html"
          },
          {
            "@name":"identifier",
            "@content":"https://savage.nps.edu/Savage/Locations/PanamaCityFlorida/PanamaCity.x3d"
          },
          {
            "@name":"license",
            "@content":"../../license.html"
          },
          {
            "@name":"translated",
            "@content":"19 March 2017"
          },
          {
            "@name":"generator",
            "@content":"X3dToJson.xslt, http://www.web3d.org/x3d/stylesheets/X3dToJson.html"
          },
          {
            "@name":"warning",
            "@content":"An experimental version of X3D JSON encoding is used for this scene.  Status online at http://www.web3d.org/wiki/index.php/X3D_JSON_Encoding"
          }
        ]
    },
    "Scene": {
        "-children":[
          { "NavigationInfo":
            {
              "@speed":100,
              "@type":["FLY","EXAMINE","ANY"],
              "@visibilityLimit":2254678.4
            }
          },
          { "PointLight":
            {
              "@ambientIntensity":1,
              "@location":[0,100000,0],
              "@radius":1000000
            }
          },
          {
            "#comment":"TODO: verify correct translation value for this location through comparison with corresponding OpenMap display"
          },
          {
            "#comment":"TODO: automate generation of proper values by Rez itself"
          },
          {
            "#comment":"Registration correction: the following rotation brings the Rez coordinate system in line with North = X3D +X axis, up = X3D +Y axis, East = X3D +Z axis"
          },
          { "Transform":
            {
              "@DEF":"OrientRezCoordinateSystem",
              "@rotation":[0,1,0,-1.5707963265],
              "-children":[
                {
                  "#comment":"following translation computed by hand by Byounghyun based on corner points and scaling of Rez outputs, as well as UTM versus WGS84 conversions"
                },
                { "Transform":
                  {
                    "@translation":[-148274.98,0,-79047.31],
                    "-children":[
                      {
                        "#comment":"TODO: the following translation correction is the hack to align 3D terrain with OpenMap display"
                      },
                      { "Transform":
                        {
                          "@DEF":"HackTranslationCorrectionTerrainToX3d",
                          "@translation":[-23000,0,-1100],
                          "-children":[
                            {
                              "#comment":""
                            },
                            { "Collision":
                              {
                                "-children":[
                                  { "Inline":
                                    {
                                      "@url":["tiles/0/PanamaCity0-0.x3d","https://savage.nps.edu/Savage/Locations/PanamaCityFlorida/tiles/0/PanamaCity0-0.x3d"]
                                    }
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      },
                      { "Transform":
                        {
                          "@translation":[148274.98,40000,79047.31],
                          "-children":[
                            { "Transform":
                              {
                                "-children":[
                                  { "Viewpoint":
                                    {
                                      "@DEF":"Vp0",
                                      "@description":"Center view",
                                      "@orientation":[-1,0,0,1.5707963265]
                                    }
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      },
                      { "Transform":
                        {
                          "@translation":[88274.98,150000,78047.31],
                          "-children":[
                            { "Transform":
                              {
                                "-children":[
                                  { "Viewpoint":
                                    {
                                      "@DEF":"Vp0-1",
                                      "@description":"Overview",
                                      "@orientation":[-1,0,0,1.5707963265]
                                    }
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      },
                      { "Transform":
                        {
                          "@translation":[-21644.912,19677.194602272728,158729.36],
                          "-children":[
                            { "Transform":
                              {
                                "-children":[
                                  { "Viewpoint":
                                    {
                                      "@DEF":"Vp1",
                                      "@description":"Viewpoint 1",
                                      "@orientation":[0,1,0,-0.795]
                                    }
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      },
                      { "Transform":
                        {
                          "@translation":[-21644.9128347449,19677.194602272728,-28859.883],
                          "-children":[
                            { "Transform":
                              {
                                "-children":[
                                  { "Viewpoint":
                                    {
                                      "@DEF":"Vp2",
                                      "@description":"Viewpoint 2",
                                      "@orientation":[0,1,0,-2.356]
                                    }
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      },
                      { "Transform":
                        {
                          "@translation":[243505.27,19677.194602272728,-28859.883],
                          "-children":[
                            { "Transform":
                              {
                                "-children":[
                                  { "Viewpoint":
                                    {
                                      "@DEF":"Vp3",
                                      "@description":"Viewpoint 3",
                                      "@orientation":[0,1,0,2.356]
                                    }
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      },
                      { "Transform":
                        {
                          "@translation":[243505.27,19677.194602272728,173159.3],
                          "-children":[
                            { "Transform":
                              {
                                "-children":[
                                  { "Viewpoint":
                                    {
                                      "@DEF":"Vp4",
                                      "@description":"Viewpoint 4",
                                      "@orientation":[0,1,0,0.795]
                                    }
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      },
                      { "Viewpoint":
                        {
                          "@DEF":"Vp5",
                          "@description":"Viewpoint 5",
                          "@orientation":[-1,0,0,1.54],
                          "@position":[66738.484,36074.855,101009.59]
                        }
                      },
                      { "Viewpoint":
                        {
                          "@DEF":"Vp6",
                          "@description":"Viewpoint 6",
                          "@orientation":[-1,0,0,1.64],
                          "@position":[39682.34,36074.855,43289.824]
                        }
                      },
                      { "Viewpoint":
                        {
                          "@DEF":"Vp7",
                          "@description":"Viewpoint 7",
                          "@orientation":[-1,0,0,1.54],
                          "@position":[174963.05,36074.855,57719.766]
                        }
                      },
                      { "Viewpoint":
                        {
                          "@DEF":"Vp8",
                          "@description":"Viewpoint 8",
                          "@orientation":[-1,0,0,1.54],
                          "@position":[189392.98,36074.855,93794.625]
                        }
                      }
                    ]
                  }
                }
              ]
            }
          }
        ]
    }
  }
}