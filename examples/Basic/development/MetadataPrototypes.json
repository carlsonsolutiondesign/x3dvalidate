{ "X3D": {
    "encoding":"UTF-8",
    "@profile":"Immersive",
    "@version":"3.0",
    "@xsd:noNamespaceSchemaLocation":"http://www.web3d.org/specifications/x3d-3.0.xsd",
    "JSON schema":"http://www.web3d.org/specifications/x3d-3.3-JSONSchema.json",
    "head": {
        "meta": [
          {
            "@name":"title",
            "@content":"MetadataPrototypes.x3d"
          },
          {
            "@name":"description",
            "@content":"New X3D Metadata nodes in Core component (MetadataDouble MetadataFloat MetadataInteger MetadataSet MetadataString) implemented as prototypes for backwards compatibility with VRML 97."
          },
          {
            "@name":"creator",
            "@content":"Don Brutzman"
          },
          {
            "@name":"created",
            "@content":"17 November 2003"
          },
          {
            "@name":"modified",
            "@content":"5 July 2014"
          },
          {
            "@name":"reference",
            "@content":"MetadataExamples.x3d"
          },
          {
            "@name":"subject",
            "@content":"Metadata nodes, X3D Core component (MetadataBoolean MetadataDouble MetadataFloat MetadataInteger MetadataSet MetadataString)"
          },
          {
            "@name":"reference",
            "@content":"http://www.web3d.org/files/specifications/19775-1/V3.3/Part01/components/core.html#Metadata"
          },
          {
            "@name":"reference",
            "@content":"http://www.web3d.org/files/specifications/19775-1/V3.3/Part01/components/core.html#X3DMetadataObject"
          },
          {
            "@name":"reference",
            "@content":"http://www.web3d.org/files/specifications/19775-1/V3.3/Part01/components/core.html#Nodereference"
          },
          {
            "@name":"identifier",
            "@content":"http://www.web3d.org/x3d/content/examples/Basic/development/MetadataPrototypes.x3d"
          },
          {
            "@name":"generator",
            "@content":"X3D-Edit 3.3, https://savage.nps.edu/X3D-Edit"
          },
          {
            "@name":"license",
            "@content":"../license.html"
          },
          {
            "@name":"translated",
            "@content":"19 March 2017"
          },
          {
            "@name":"generator",
            "@content":"X3dToJson.xslt, http://www.web3d.org/x3d/stylesheets/X3dToJson.html"
          },
          {
            "@name":"warning",
            "@content":"An experimental version of X3D JSON encoding is used for this scene.  Status online at http://www.web3d.org/wiki/index.php/X3D_JSON_Encoding"
          }
        ]
    },
    "Scene": {
        "-children":[
          {
            "#comment":"===================="
          },
          { "ProtoDeclare":
            {
              "@name":"MetadataString",
              "@appinfo":"MetadataBoolean contains a list of booleans in the value field.",
              "ProtoInterface": {
                  "field": [
                    {
                      "@name":"name",
                      "@accessType":"inputOutput",
                      "@type":"SFString"
                    },
                    {
                      "@name":"value",
                      "@accessType":"inputOutput",
                      "@type":"MFBool"
                    },
                    {
                      "@name":"reference",
                      "@accessType":"inputOutput",
                      "@type":"SFString"
                    },
                    {
                      "@name":"metadata",
                      "@accessType":"inputOutput",
                      "@appinfo":"Metadata node only",
                      "@type":"SFNode",
                      "-children":[
                        {
                          "#comment":"initialization node (if any) goes here"
                        }
                      ]
                    }
                  ]
              },
              "ProtoBody": {
                  "-children":[
                    { "WorldInfo":
                      {
                        "@info":["WorldInfo as first node in the ProtoBody precludes any possible rendering of further nodes in this prototype"]
                      }
                    },
                    { "Group":
                      {
                        "IS": {
                            "connect": [
                              {
                                "@nodeField":"metadata",
                                "@protoField":"metadata"
                              }
                            ]
                        },
                        "-children":[
                          {
                            "#comment":"name holder"
                          },
                          { "Viewpoint":
                            {
                              "IS": {
                                  "connect": [
                                    {
                                      "@nodeField":"description",
                                      "@protoField":"name"
                                    }
                                  ]
                              }
                            }
                          },
                          {
                            "#comment":"value holder; IS/connect possibilities are limited since no MFBool fields exist in other VRML/X3D nodes"
                          },
                          {
                            "#comment":"Alternative: no metadata holder, since there is no exposedField SFNode in VRML 97. metadata SFNode simply sits in the ProtoInterface. Run-time instantiation support may vary."
                          },
                          { "Script":
                            {
                              "@url":["ignoreWarning.js","http://www.web3d.org/x3d/content/examples/Basic/development/ignoreWarning.js"],
                              "field": [
                                {
                                  "@name":"booleanArray",
                                  "@accessType":"inputOutput",
                                  "@type":"MFBool"
                                }
                              ],
                              "IS": {
                                  "connect": [
                                    {
                                      "@nodeField":"booleanArray",
                                      "@protoField":"value"
                                    }
                                  ]
                              }
                            }
                          },
                          {
                            "#comment":"reference holder"
                          },
                          { "Viewpoint":
                            {
                              "IS": {
                                  "connect": [
                                    {
                                      "@nodeField":"description",
                                      "@protoField":"reference"
                                    }
                                  ]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
              }
            }
          },
          {
            "#comment":"===================="
          },
          { "ProtoDeclare":
            {
              "@name":"MetadataDouble",
              "@appinfo":"MetadataDouble contains a list of double-precision floating-point numbers in the value field.",
              "ProtoInterface": {
                  "field": [
                    {
                      "@name":"name",
                      "@accessType":"inputOutput",
                      "@type":"SFString"
                    },
                    {
                      "@name":"value",
                      "@accessType":"inputOutput",
                      "@type":"MFDouble"
                    },
                    {
                      "@name":"reference",
                      "@accessType":"inputOutput",
                      "@type":"SFString"
                    },
                    {
                      "@name":"metadata",
                      "@accessType":"inputOutput",
                      "@appinfo":"[X3DMetadataObject]",
                      "@type":"SFNode",
                      "-children":[
                        {
                          "#comment":"Specification initialization: NULL node"
                        }
                      ]
                    }
                  ]
              },
              "ProtoBody": {
                  "-children":[
                    { "WorldInfo":
                      {
                        "@info":["WorldInfo as first node in the ProtoBody precludes any possible rendering of further nodes in this prototype"]
                      }
                    },
                    { "Group":
                      {
                        "IS": {
                            "connect": [
                              {
                                "@nodeField":"metadata",
                                "@protoField":"metadata"
                              }
                            ]
                        },
                        "-children":[
                          {
                            "#comment":"name holder"
                          },
                          { "Viewpoint":
                            {
                              "IS": {
                                  "connect": [
                                    {
                                      "@nodeField":"description",
                                      "@protoField":"name"
                                    }
                                  ]
                              }
                            }
                          },
                          {
                            "#comment":"value holder: X3D MFDouble maps to VRML 97MFFloat"
                          },
                          { "Shape":
                            {
                              "-geometry":
                                { "Text":
                                  {
                                    "@string":[""],
                                    "IS": {
                                        "connect": [
                                          {
                                            "@nodeField":"length",
                                            "@protoField":"value"
                                          }
                                        ]
                                    }
                                  }
                                },
                              "-appearance":
                                { "Appearance":
                                  {
                                    "@DEF":"HideWarnings2",
                                    "-children":[
                                      {
                                        "#comment":"note that each Prototype has an independent DEF/USE namespace, and thus must avoid re-using identical DEF names within multiple prototype declarations in order to pass all validation requirements."
                                      }
                                    ],
                                    "-material":
                                      { "Material":
                                        {
                                        }
                                      }
                                  }
                                }
                            }
                          },
                          {
                            "#comment":"reference holder"
                          },
                          { "Viewpoint":
                            {
                              "IS": {
                                  "connect": [
                                    {
                                      "@nodeField":"description",
                                      "@protoField":"reference"
                                    }
                                  ]
                              }
                            }
                          },
                          {
                            "#comment":"no metadata holder, since there is no exposedField SFNode in VRML 97. metadata SFNode simply sits in the ProtoInterface. Run-time instantiation support may vary."
                          }
                        ]
                      }
                    }
                  ]
              }
            }
          },
          {
            "#comment":"===================="
          },
          { "ProtoDeclare":
            {
              "@name":"MetadataFloat",
              "@appinfo":"MetadataFloat contains a list of floating-point numbers in the value field.",
              "ProtoInterface": {
                  "field": [
                    {
                      "@name":"name",
                      "@accessType":"inputOutput",
                      "@type":"SFString"
                    },
                    {
                      "@name":"value",
                      "@accessType":"inputOutput",
                      "@type":"MFFloat"
                    },
                    {
                      "@name":"reference",
                      "@accessType":"inputOutput",
                      "@type":"SFString"
                    },
                    {
                      "@name":"metadata",
                      "@accessType":"inputOutput",
                      "@appinfo":"[X3DMetadataObject]",
                      "@type":"SFNode",
                      "-children":[
                        {
                          "#comment":"Specification initialization: NULL node"
                        }
                      ]
                    }
                  ]
              },
              "ProtoBody": {
                  "-children":[
                    { "WorldInfo":
                      {
                        "@info":["WorldInfo as first node in the ProtoBody precludes any possible rendering of further nodes in this prototype"]
                      }
                    },
                    { "Group":
                      {
                        "IS": {
                            "connect": [
                              {
                                "@nodeField":"metadata",
                                "@protoField":"metadata"
                              }
                            ]
                        },
                        "-children":[
                          {
                            "#comment":"name holder"
                          },
                          { "Viewpoint":
                            {
                              "IS": {
                                  "connect": [
                                    {
                                      "@nodeField":"description",
                                      "@protoField":"name"
                                    }
                                  ]
                              }
                            }
                          },
                          {
                            "#comment":"value holder"
                          },
                          { "Shape":
                            {
                              "-geometry":
                                { "Text":
                                  {
                                    "@string":[""],
                                    "IS": {
                                        "connect": [
                                          {
                                            "@nodeField":"length",
                                            "@protoField":"value"
                                          }
                                        ]
                                    }
                                  }
                                },
                              "-appearance":
                                { "Appearance":
                                  {
                                    "@DEF":"HideWarnings3",
                                    "-children":[
                                      {
                                        "#comment":"note that each Prototype has an independent DEF/USE namespace, and thus must avoid re-using identical DEF names within multiple prototype declarations in order to pass all validation requirements."
                                      }
                                    ],
                                    "-material":
                                      { "Material":
                                        {
                                        }
                                      }
                                  }
                                }
                            }
                          },
                          {
                            "#comment":"reference holder"
                          },
                          { "Viewpoint":
                            {
                              "IS": {
                                  "connect": [
                                    {
                                      "@nodeField":"description",
                                      "@protoField":"reference"
                                    }
                                  ]
                              }
                            }
                          },
                          {
                            "#comment":"no metadata holder, since there is no exposedField SFNode in VRML 97. metadata SFNode simply sits in the ProtoInterface. Run-time instantiation support may vary."
                          }
                        ]
                      }
                    }
                  ]
              }
            }
          },
          {
            "#comment":"===================="
          },
          { "ProtoDeclare":
            {
              "@name":"MetadataInteger",
              "@appinfo":"MetadataInteger contains a list of 32-bit integer numbers in the value field.",
              "ProtoInterface": {
                  "field": [
                    {
                      "@name":"name",
                      "@accessType":"inputOutput",
                      "@type":"SFString"
                    },
                    {
                      "@name":"value",
                      "@accessType":"initializeOnly",
                      "@type":"MFInt32"
                    },
                    {
                      "@name":"set_value",
                      "@accessType":"inputOnly",
                      "@type":"MFInt32"
                    },
                    {
                      "@name":"reference",
                      "@accessType":"inputOutput",
                      "@type":"SFString"
                    },
                    {
                      "@name":"metadata",
                      "@accessType":"inputOutput",
                      "@appinfo":"[X3DMetadataObject]",
                      "@type":"SFNode",
                      "-children":[
                        {
                          "#comment":"Specification initialization: NULL node"
                        }
                      ]
                    }
                  ],
                  "-children":[
                    {
                      "#comment":"VRML 97 has no native exposedField MFInt32, and so must split value accessors to match available accessTypes."
                    }
                  ]
              },
              "ProtoBody": {
                  "-children":[
                    { "WorldInfo":
                      {
                        "@info":["WorldInfo as first node in the ProtoBody precludes any possible rendering of further nodes in this prototype"]
                      }
                    },
                    { "Group":
                      {
                        "IS": {
                            "connect": [
                              {
                                "@nodeField":"metadata",
                                "@protoField":"metadata"
                              }
                            ]
                        },
                        "-children":[
                          {
                            "#comment":"name holder"
                          },
                          { "Viewpoint":
                            {
                              "IS": {
                                  "connect": [
                                    {
                                      "@nodeField":"description",
                                      "@protoField":"name"
                                    }
                                  ]
                              }
                            }
                          },
                          {
                            "#comment":"value holder"
                          },
                          { "Shape":
                            {
                              "-geometry":
                                { "IndexedLineSet":
                                  {
                                    "IS": {
                                        "connect": [
                                          {
                                            "@nodeField":"colorIndex",
                                            "@protoField":"value"
                                          },
                                          {
                                            "@nodeField":"set_colorIndex",
                                            "@protoField":"set_value"
                                          }
                                        ]
                                    }
                                  }
                                },
                              "-appearance":
                                { "Appearance":
                                  {
                                    "@DEF":"HideWarnings4",
                                    "-children":[
                                      {
                                        "#comment":"note that each Prototype has an independent DEF/USE namespace, and thus must avoid re-using identical DEF names within multiple prototype declarations in order to pass all validation requirements."
                                      }
                                    ],
                                    "-material":
                                      { "Material":
                                        {
                                          "@emissiveColor":[0.8,0.8,0.8]
                                        }
                                      }
                                  }
                                }
                            }
                          },
                          {
                            "#comment":"reference holder"
                          },
                          { "Viewpoint":
                            {
                              "IS": {
                                  "connect": [
                                    {
                                      "@nodeField":"description",
                                      "@protoField":"reference"
                                    }
                                  ]
                              }
                            }
                          },
                          {
                            "#comment":"no metadata holder, since there is no exposedField SFNode in VRML 97. metadata SFNode simply sits in the ProtoInterface. Run-time instantiation support may vary."
                          }
                        ]
                      }
                    }
                  ]
              }
            }
          },
          {
            "#comment":"===================="
          },
          { "ProtoDeclare":
            {
              "@name":"MetadataSet",
              "@appinfo":"MetadataSet contains a list of Metadata nodes in the value field. MetadataSet can contain other MetadataSet nodes.",
              "ProtoInterface": {
                  "field": [
                    {
                      "@name":"name",
                      "@accessType":"inputOutput",
                      "@type":"SFString"
                    },
                    {
                      "@name":"value",
                      "@accessType":"inputOutput",
                      "@type":"MFNode",
                      "-children":[
                        {
                          "#comment":"Specification initialization: NULL node"
                        }
                      ]
                    },
                    {
                      "@name":"reference",
                      "@accessType":"inputOutput",
                      "@type":"SFString"
                    },
                    {
                      "@name":"metadata",
                      "@accessType":"inputOutput",
                      "@appinfo":"[X3DMetadataObject]",
                      "@type":"SFNode",
                      "-children":[
                        {
                          "#comment":"Specification initialization: NULL node"
                        }
                      ]
                    }
                  ]
              },
              "ProtoBody": {
                  "-children":[
                    { "WorldInfo":
                      {
                        "@info":["WorldInfo as first node in the ProtoBody precludes any possible rendering of further nodes in this prototype"]
                      }
                    },
                    { "Group":
                      {
                        "IS": {
                            "connect": [
                              {
                                "@nodeField":"metadata",
                                "@protoField":"metadata"
                              }
                            ]
                        },
                        "-children":[
                          {
                            "#comment":"name holder"
                          },
                          { "Viewpoint":
                            {
                              "IS": {
                                  "connect": [
                                    {
                                      "@nodeField":"description",
                                      "@protoField":"name"
                                    }
                                  ]
                              }
                            }
                          },
                          {
                            "#comment":"value holder"
                          },
                          { "Group":
                            {
                              "IS": {
                                  "connect": [
                                    {
                                      "@nodeField":"children",
                                      "@protoField":"value"
                                    }
                                  ]
                              }
                            }
                          },
                          {
                            "#comment":"reference holder"
                          },
                          { "Viewpoint":
                            {
                              "IS": {
                                  "connect": [
                                    {
                                      "@nodeField":"description",
                                      "@protoField":"reference"
                                    }
                                  ]
                              }
                            }
                          },
                          {
                            "#comment":"no metadata holder, since there is no exposedField SFNode in VRML 97. metadata SFNode simply sits in the ProtoInterface. Run-time instantiation support may vary."
                          }
                        ]
                      }
                    }
                  ]
              }
            }
          },
          {
            "#comment":"===================="
          },
          { "ProtoDeclare":
            {
              "@name":"MetadataString",
              "@appinfo":"MetadataString contains a list of strings in the value field.",
              "ProtoInterface": {
                  "field": [
                    {
                      "@name":"name",
                      "@accessType":"inputOutput",
                      "@type":"SFString"
                    },
                    {
                      "@name":"value",
                      "@accessType":"inputOutput",
                      "@type":"MFString"
                    },
                    {
                      "@name":"reference",
                      "@accessType":"inputOutput",
                      "@type":"SFString"
                    },
                    {
                      "@name":"metadata",
                      "@accessType":"inputOutput",
                      "@appinfo":"Metadata node only",
                      "@type":"SFNode",
                      "-children":[
                        {
                          "#comment":"Specification initialization: NULL node"
                        }
                      ]
                    }
                  ]
              },
              "ProtoBody": {
                  "-children":[
                    { "WorldInfo":
                      {
                        "@info":["WorldInfo as first node in the ProtoBody precludes any possible rendering of further nodes in this prototype"]
                      }
                    },
                    { "Group":
                      {
                        "IS": {
                            "connect": [
                              {
                                "@nodeField":"metadata",
                                "@protoField":"metadata"
                              }
                            ]
                        },
                        "-children":[
                          {
                            "#comment":"name holder"
                          },
                          { "Viewpoint":
                            {
                              "IS": {
                                  "connect": [
                                    {
                                      "@nodeField":"description",
                                      "@protoField":"name"
                                    }
                                  ]
                              }
                            }
                          },
                          {
                            "#comment":"value holder"
                          },
                          { "Shape":
                            {
                              "-geometry":
                                { "Text":
                                  {
                                    "IS": {
                                        "connect": [
                                          {
                                            "@nodeField":"string",
                                            "@protoField":"value"
                                          }
                                        ]
                                    }
                                  }
                                },
                              "-appearance":
                                { "Appearance":
                                  {
                                    "@DEF":"HideWarnings5",
                                    "-children":[
                                      {
                                        "#comment":"note that each Prototype has an independent DEF/USE namespace, and thus must avoid re-using identical DEF names within multiple prototype declarations in order to pass all validation requirements."
                                      }
                                    ],
                                    "-material":
                                      { "Material":
                                        {
                                        }
                                      }
                                  }
                                }
                            }
                          },
                          {
                            "#comment":"reference holder"
                          },
                          { "Viewpoint":
                            {
                              "IS": {
                                  "connect": [
                                    {
                                      "@nodeField":"description",
                                      "@protoField":"reference"
                                    }
                                  ]
                              }
                            }
                          },
                          {
                            "#comment":"no metadata holder, since there is no exposedField SFNode in VRML 97. metadata SFNode simply sits in the ProtoInterface. Run-time instantiation support may vary."
                          }
                        ]
                      }
                    }
                  ]
              }
            }
          },
          {
            "#comment":"===================="
          },
          { "Background":
            {
              "@groundColor":[0.25,0.25,0.25],
              "@skyColor":[0.25,0.25,0.25]
            }
          },
          { "Anchor":
            {
              "@DEF":"LinkToExamples",
              "@description":"link to examples",
              "@url":["MetadataExamples.x3d","http://www.web3d.org/x3d/content/examples/Basic/development/MetadataExamples.x3d","MetadataExamples.wrl","http://www.web3d.org/x3d/content/examples/Basic/development/MetadataExamples.wrl"],
              "-children":[
                { "Shape":
                  {
                    "-appearance":
                      { "Appearance":
                        {
                          "-material":
                            { "Material":
                              {
                                "@diffuseColor":[0.8,0.6,0.2]
                              }
                            }
                        }
                      },
                    "-geometry":
                      { "Text":
                        {
                          "@string":["MetadataPrototypes","is a developmental file.","Click this text to view","MetadataExamples"],
                          "-fontStyle":
                            { "FontStyle":
                              {
                                "@justify":["MIDDLE","MIDDLE"],
                                "@size":0.75
                              }
                            }
                        }
                      }
                  }
                }
              ]
            }
          }
        ]
    }
  }
}